error: Typing[4110] Invalid argument

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, string $b, ISender<int, null> $sender) {
 21 |     parent::__construct($a, $b, »$sender«);
 22 |   }
 23 | }

File "ctor_generic.php", line 21, character 33 - line 21, character 39:

Expected `null`

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, string $b, ISender<int, »null«> $sender) {
 21 |     parent::__construct($a, $b, $sender);
 22 |   }
 23 | }

File "ctor_generic.php", line 20, character 63 - line 20, character 66:

But got `string`

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, »string« $b, ISender<int, null> $sender) {
 21 |     parent::__construct($a, $b, $sender);
 22 |   }
 23 | }

File "ctor_generic.php", line 20, character 39 - line 20, character 44:

This error has 6 steps, a maximum depth of 1 and contains 1 reversal.

Here's why: this hint

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, »string« $b, ISender<int, null> $sender) {
 21 |     parent::__construct($a, $b, $sender);
 22 |   }
 23 | }

File "ctor_generic.php", line 20, character 39 - line 20, character 44:

flows into this expression because it is a parameter hint

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, string »$b«, ISender<int, null> $sender) {
 21 |     parent::__construct($a, $b, $sender);
 22 |   }
 23 | }

File "ctor_generic.php", line 20, character 46 - line 20, character 47:

which itself flows into this expression because the local variable has this type

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, string $b, ISender<int, null> $sender) {
 21 |     parent::__construct($a, »$b«, $sender);
 22 |   }
 23 | }

File "ctor_generic.php", line 21, character 29 - line 21, character 30:

which itself flows up into this expression as the 2nd function parameter

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, string $b, ISender<int, null> $sender) {
 21 |     »parent::__construct($a, $b, $sender)«;
 22 |   }
 23 | }

File "ctor_generic.php", line 21, character 5 - line 21, character 40:

which itself flows from this function or method  because they are required to be subtypes

 11 | abstract class TestServiceBase<TA, TB> {
 12 |   public function »__construct«(
 13 |     protected TA $a,
 14 |     protected TB $b,

File "ctor_generic.php", line 12, character 19 - line 12, character 29:

which itself flows down into the generic `TB` on `TestServiceBase` as the 2nd function parameter

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, string $b, ISender<int, null> $sender) {
 21 |     »parent::__construct($a, $b, $sender)«;
 22 |   }
 23 | }

File "ctor_generic.php", line 21, character 5 - line 21, character 40:

which itself flows into this hint because of transitivity

 19 | final class TestServiceWA extends TestServiceBase<int, string> {
 20 |   public function __construct(int $a, string $b, ISender<int, »null«> $sender) {
 21 |     parent::__construct($a, $b, $sender);
 22 |   }
 23 | }

File "ctor_generic.php", line 20, character 63 - line 20, character 66:

Path:
{
  "stats":{"max_depth":1,"length":6,"reversals":1},
  "path_elems":[
    {
      "Rhint":[{"filename":"ctor_generic.php","line":20,"char_start":39,"char_end":44}]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[{"filename":"ctor_generic.php","line":20,"char_start":46,"char_end":47}]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[{"filename":"ctor_generic.php","line":21,"char_start":29,"char_end":30}]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[1,1]}]}}
    },
    {
      "Rwitness":[{"filename":"ctor_generic.php","line":21,"char_start":5,"char_end":40}]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[{"filename":"ctor_generic.php","line":12,"char_start":19,"char_end":29}]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[1,1]}]}
      }
    },
    {
      "Rtype_variable_generics":[
        {"filename":"ctor_generic.php","line":21,"char_start":5,"char_end":40},
        "TB",
        "TestServiceBase"
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_transitive"}},
    {
      "Rhint":[{"filename":"ctor_generic.php","line":20,"char_start":63,"char_end":66}]
    }
  ]
}


File "", line 0, character 0 - line 0, character -1:

1 error found.
