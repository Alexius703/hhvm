error: Typing[4057] Invalid argument

The field `b` is missing

 27 | type required_a_at_int = »shape('a' => int)«;
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);

The field `b` is defined

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape(»'b'« => int);
 32 | 
 33 | function expects_required_a_at_int_alias(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

Here's why: this hint

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => »int«);
 32 | 
 33 | function expects_required_a_at_int_alias(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

flows *into* this hint, via the required shape field `'b'`

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = »shape('b' => int)«;
 32 | 
 33 | function expects_required_a_at_int_alias(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint

 57 | function passes_missing_a_alias(
 58 |   »missing_a« $s,
 59 | ): void {
 60 |   expects_required_a_at_int_alias($s);
 61 | }

which itself flows *into* this expression

 57 | function passes_missing_a_alias(
 58 |   missing_a »$s«,
 59 | ): void {
 60 |   expects_required_a_at_int_alias($s);
 61 | }

which itself flows *into* this expression

 57 | function passes_missing_a_alias(
 58 |   missing_a $s,
 59 | ): void {
 60 |   expects_required_a_at_int_alias(»$s«);
 61 | }

which itself flows *into* this expression, via the (contravariant) 1st function parameter

 57 | function passes_missing_a_alias(
 58 |   missing_a $s,
 59 | ): void {
 60 |   »expects_required_a_at_int_alias«($s);
 61 | }

which itself flows *from* this declaration

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);
 32 | 
 33 | function »expects_required_a_at_int_alias«(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the (contravariant) 1st function parameter

 27 | type required_a_at_int = »shape('a' => int)«;
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);

which itself flows *into* this hint

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);
 32 | 
 33 | function expects_required_a_at_int_alias(
 34 | »required_a_at_int« $s,
 35 | ): void {
 36 | }

which itself flows *into* nothing, via the non-existent shape field `'b'`


error: Typing[4057] Invalid argument

The field `a` is missing

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = »shape('b' => int)«;
 32 | 
 33 | function expects_required_a_at_int_alias(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

The field `a` is defined

 27 | type required_a_at_int = shape(»'a'« => int);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);

Here's why: nothing


flows *into* this hint, via the non-existent shape field `'a'`

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = »shape('b' => int)«;
 32 | 
 33 | function expects_required_a_at_int_alias(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint

 57 | function passes_missing_a_alias(
 58 |   »missing_a« $s,
 59 | ): void {
 60 |   expects_required_a_at_int_alias($s);
 61 | }

which itself flows *into* this expression

 57 | function passes_missing_a_alias(
 58 |   missing_a »$s«,
 59 | ): void {
 60 |   expects_required_a_at_int_alias($s);
 61 | }

which itself flows *into* this expression

 57 | function passes_missing_a_alias(
 58 |   missing_a $s,
 59 | ): void {
 60 |   expects_required_a_at_int_alias(»$s«);
 61 | }

which itself flows *into* this expression, via the (contravariant) 1st function parameter

 57 | function passes_missing_a_alias(
 58 |   missing_a $s,
 59 | ): void {
 60 |   »expects_required_a_at_int_alias«($s);
 61 | }

which itself flows *from* this declaration

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);
 32 | 
 33 | function »expects_required_a_at_int_alias«(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the (contravariant) 1st function parameter

 27 | type required_a_at_int = »shape('a' => int)«;
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);

which itself flows *into* this hint

 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);
 32 | 
 33 | function expects_required_a_at_int_alias(
 34 | »required_a_at_int« $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the required shape field `'a'`

 27 | type required_a_at_int = shape('a' => »int«);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);

error: Typing[4110] Invalid argument

Expected `int`

 3 | function expects_required_a_at_int(
 4 | shape('a' => »int«) $s,
 5 | ): void {
 6 | }

But got `bool`

 8 | function passes_required_a_at_bool(
 9 |   shape('a' => »bool«) $s,
10 | ): void {
11 |   expects_required_a_at_int($s);
12 | }

Here's why: this hint

 8 | function passes_required_a_at_bool(
 9 |   shape('a' => »bool«) $s,
10 | ): void {
11 |   expects_required_a_at_int($s);
12 | }

flows *into* this hint, via the required shape field `'a'`

 8 | function passes_required_a_at_bool(
 9 |   »shape('a' => bool)« $s,
10 | ): void {
11 |   expects_required_a_at_int($s);
12 | }

which itself flows *into* this expression

 8 | function passes_required_a_at_bool(
 9 |   shape('a' => bool) »$s«,
10 | ): void {
11 |   expects_required_a_at_int($s);
12 | }

which itself flows *into* this expression

  8 | function passes_required_a_at_bool(
  9 |   shape('a' => bool) $s,
 10 | ): void {
 11 |   expects_required_a_at_int(»$s«);
 12 | }

which itself flows *into* this expression, via the (contravariant) 1st function parameter

  8 | function passes_required_a_at_bool(
  9 |   shape('a' => bool) $s,
 10 | ): void {
 11 |   »expects_required_a_at_int«($s);
 12 | }

which itself flows *from* this declaration

 3 | function »expects_required_a_at_int«(
 4 | shape('a' => int) $s,
 5 | ): void {
 6 | }

which itself flows *into* this hint, via the (contravariant) 1st function parameter

 3 | function expects_required_a_at_int(
 4 | »shape('a' => int)« $s,
 5 | ): void {
 6 | }

which itself flows *into* this hint, via the required shape field `'a'`

 3 | function expects_required_a_at_int(
 4 | shape('a' => »int«) $s,
 5 | ): void {
 6 | }

error: Typing[4110] Invalid argument

Expected `int`

 27 | type required_a_at_int = shape('a' => »int«);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);

But got `bool`

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = shape('a' => »bool«);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);

Here's why: this hint

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = shape('a' => »bool«);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);

flows *into* this hint, via the required shape field `'a'`

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = »shape('a' => bool)«;
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);

which itself flows *into* this hint

 38 | function passes_required_a_at_bool_alias(
 39 |   »required_a_at_bool« $s,
 40 | ): void {
 41 |   expects_required_a_at_int_alias($s);
 42 | }

which itself flows *into* this expression

 38 | function passes_required_a_at_bool_alias(
 39 |   required_a_at_bool »$s«,
 40 | ): void {
 41 |   expects_required_a_at_int_alias($s);
 42 | }

which itself flows *into* this expression

 38 | function passes_required_a_at_bool_alias(
 39 |   required_a_at_bool $s,
 40 | ): void {
 41 |   expects_required_a_at_int_alias(»$s«);
 42 | }

which itself flows *into* this expression, via the (contravariant) 1st function parameter

 38 | function passes_required_a_at_bool_alias(
 39 |   required_a_at_bool $s,
 40 | ): void {
 41 |   »expects_required_a_at_int_alias«($s);
 42 | }

which itself flows *from* this declaration

 33 | function »expects_required_a_at_int_alias«(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the (contravariant) 1st function parameter

 27 | type required_a_at_int = »shape('a' => int)«;
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);

which itself flows *into* this hint

 33 | function expects_required_a_at_int_alias(
 34 | »required_a_at_int« $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the required shape field `'a'`

 27 | type required_a_at_int = shape('a' => »int«);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);

error: Typing[4163] Invalid argument

The field `a` is **optional**

 14 | function passes_optional_a_at_int(
 15 |   »shape(?'a' => int)« $s,
 16 | ): void {
 17 |   expects_required_a_at_int($s);
 18 | }

The field `a` is defined as **required**

 3 | function expects_required_a_at_int(
 4 | »shape('a' => int)« $s,
 5 | ): void {
 6 | }

`a` is defined here

 3 | function expects_required_a_at_int(
 4 | shape('a' => »int«) $s,
 5 | ): void {
 6 | }

Here's why: this hint

 14 | function passes_optional_a_at_int(
 15 |   shape(?'a' => »int«) $s,
 16 | ): void {
 17 |   expects_required_a_at_int($s);
 18 | }

flows *into* this hint, via the optional shape field `'a'`

 14 | function passes_optional_a_at_int(
 15 |   »shape(?'a' => int)« $s,
 16 | ): void {
 17 |   expects_required_a_at_int($s);
 18 | }

which itself flows *into* this expression

 14 | function passes_optional_a_at_int(
 15 |   shape(?'a' => int) »$s«,
 16 | ): void {
 17 |   expects_required_a_at_int($s);
 18 | }

which itself flows *into* this expression

 14 | function passes_optional_a_at_int(
 15 |   shape(?'a' => int) $s,
 16 | ): void {
 17 |   expects_required_a_at_int(»$s«);
 18 | }

which itself flows *into* this expression, via the (contravariant) 1st function parameter

 14 | function passes_optional_a_at_int(
 15 |   shape(?'a' => int) $s,
 16 | ): void {
 17 |   »expects_required_a_at_int«($s);
 18 | }

which itself flows *from* this declaration

 3 | function »expects_required_a_at_int«(
 4 | shape('a' => int) $s,
 5 | ): void {
 6 | }

which itself flows *into* this hint, via the (contravariant) 1st function parameter

 3 | function expects_required_a_at_int(
 4 | »shape('a' => int)« $s,
 5 | ): void {
 6 | }

which itself flows *into* this hint, via the required shape field `'a'`

 3 | function expects_required_a_at_int(
 4 | shape('a' => »int«) $s,
 5 | ): void {
 6 | }

error: Typing[4163] Invalid argument

The field `a` is **optional**

 20 | function passes_optional_a_at_bool(
 21 |   »shape(?'a' => bool)« $s,
 22 | ): void {
 23 |   expects_required_a_at_int($s);
 24 | }

The field `a` is defined as **required**

 3 | function expects_required_a_at_int(
 4 | »shape('a' => int)« $s,
 5 | ): void {
 6 | }

`a` is defined here

 3 | function expects_required_a_at_int(
 4 | shape('a' => »int«) $s,
 5 | ): void {
 6 | }

Here's why: this hint

 20 | function passes_optional_a_at_bool(
 21 |   shape(?'a' => »bool«) $s,
 22 | ): void {
 23 |   expects_required_a_at_int($s);
 24 | }

flows *into* this hint, via the optional shape field `'a'`

 20 | function passes_optional_a_at_bool(
 21 |   »shape(?'a' => bool)« $s,
 22 | ): void {
 23 |   expects_required_a_at_int($s);
 24 | }

which itself flows *into* this expression

 20 | function passes_optional_a_at_bool(
 21 |   shape(?'a' => bool) »$s«,
 22 | ): void {
 23 |   expects_required_a_at_int($s);
 24 | }

which itself flows *into* this expression

 20 | function passes_optional_a_at_bool(
 21 |   shape(?'a' => bool) $s,
 22 | ): void {
 23 |   expects_required_a_at_int(»$s«);
 24 | }

which itself flows *into* this expression, via the (contravariant) 1st function parameter

 20 | function passes_optional_a_at_bool(
 21 |   shape(?'a' => bool) $s,
 22 | ): void {
 23 |   »expects_required_a_at_int«($s);
 24 | }

which itself flows *from* this declaration

 3 | function »expects_required_a_at_int«(
 4 | shape('a' => int) $s,
 5 | ): void {
 6 | }

which itself flows *into* this hint, via the (contravariant) 1st function parameter

 3 | function expects_required_a_at_int(
 4 | »shape('a' => int)« $s,
 5 | ): void {
 6 | }

which itself flows *into* this hint, via the required shape field `'a'`

 3 | function expects_required_a_at_int(
 4 | shape('a' => »int«) $s,
 5 | ): void {
 6 | }

error: Typing[4163] Invalid argument

The field `a` is **optional**

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = »shape(?'a' => int)«;
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

The field `a` is defined as **required**

 27 | type required_a_at_int = »shape('a' => int)«;
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

`a` is defined here

 27 | type required_a_at_int = shape('a' => »int«);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

Here's why: this hint

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => »int«);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

flows *into* this hint, via the optional shape field `'a'`

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = »shape(?'a' => int)«;
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

which itself flows *into* this hint

 44 | function passes_optional_a_at_int_alias(
 45 |   »optional_a_at_int« $s,
 46 | ): void {
 47 |   expects_required_a_at_int_alias($s);
 48 | }

which itself flows *into* this expression

 44 | function passes_optional_a_at_int_alias(
 45 |   optional_a_at_int »$s«,
 46 | ): void {
 47 |   expects_required_a_at_int_alias($s);
 48 | }

which itself flows *into* this expression

 44 | function passes_optional_a_at_int_alias(
 45 |   optional_a_at_int $s,
 46 | ): void {
 47 |   expects_required_a_at_int_alias(»$s«);
 48 | }

which itself flows *into* this expression, via the (contravariant) 1st function parameter

 44 | function passes_optional_a_at_int_alias(
 45 |   optional_a_at_int $s,
 46 | ): void {
 47 |   »expects_required_a_at_int_alias«($s);
 48 | }

which itself flows *from* this declaration

 33 | function »expects_required_a_at_int_alias«(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the (contravariant) 1st function parameter

 27 | type required_a_at_int = »shape('a' => int)«;
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

which itself flows *into* this hint

 33 | function expects_required_a_at_int_alias(
 34 | »required_a_at_int« $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the required shape field `'a'`

 27 | type required_a_at_int = shape('a' => »int«);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

error: Typing[4163] Invalid argument

The field `a` is **optional**

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = »shape(?'a' => bool)«;
 31 | type missing_a = shape('b' => int);

The field `a` is defined as **required**

 27 | type required_a_at_int = »shape('a' => int)«;
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

`a` is defined here

 27 | type required_a_at_int = shape('a' => »int«);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

Here's why: this hint

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => »bool«);
 31 | type missing_a = shape('b' => int);

flows *into* this hint, via the optional shape field `'a'`

 27 | type required_a_at_int = shape('a' => int);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = »shape(?'a' => bool)«;
 31 | type missing_a = shape('b' => int);

which itself flows *into* this hint

 50 | function passes_optional_a_at_bool_alias(
 51 |   »optional_a_at_bool« $s,
 52 | ): void {
 53 |   expects_required_a_at_int_alias($s);
 54 | }

which itself flows *into* this expression

 50 | function passes_optional_a_at_bool_alias(
 51 |   optional_a_at_bool »$s«,
 52 | ): void {
 53 |   expects_required_a_at_int_alias($s);
 54 | }

which itself flows *into* this expression

 50 | function passes_optional_a_at_bool_alias(
 51 |   optional_a_at_bool $s,
 52 | ): void {
 53 |   expects_required_a_at_int_alias(»$s«);
 54 | }

which itself flows *into* this expression, via the (contravariant) 1st function parameter

 50 | function passes_optional_a_at_bool_alias(
 51 |   optional_a_at_bool $s,
 52 | ): void {
 53 |   »expects_required_a_at_int_alias«($s);
 54 | }

which itself flows *from* this declaration

 33 | function »expects_required_a_at_int_alias«(
 34 | required_a_at_int $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the (contravariant) 1st function parameter

 27 | type required_a_at_int = »shape('a' => int)«;
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

which itself flows *into* this hint

 33 | function expects_required_a_at_int_alias(
 34 | »required_a_at_int« $s,
 35 | ): void {
 36 | }

which itself flows *into* this hint, via the required shape field `'a'`

 27 | type required_a_at_int = shape('a' => »int«);
 28 | type required_a_at_bool = shape('a' => bool);
 29 | type optional_a_at_int = shape(?'a' => int);
 30 | type optional_a_at_bool = shape(?'a' => bool);
 31 | type missing_a = shape('b' => int);

8 errors found.
