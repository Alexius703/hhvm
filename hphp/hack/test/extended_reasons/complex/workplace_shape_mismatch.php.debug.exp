error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `_PIRANHA_SANDBOX_QUEUED_` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `_PIRANHA_SANDBOX_QUEUED_` is defined

 14 |   ?'earlyreturn' => int,
 15 |   ?»'_PIRANHA_SANDBOX_QUEUED_'« => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,

File "workplace_shape_mismatch.php", line 15, character 4 - line 15, character 29:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => »bool«,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,

File "workplace_shape_mismatch.php", line 15, character 34 - line 15, character 37:

flows up into this hint as the optional shape field `'_PIRANHA_SANDBOX_QUEUED_'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'_PIRANHA_SANDBOX_QUEUED_'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":15,
              "char_start":34,
              "char_end":37
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[
                {" Prj_symm_shape":["_PIRANHA_SANDBOX_QUEUED_",{"Optional":[]},{"Absent":[]}]}
              ]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":15,
              "char_start":34,
              "char_end":37
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[
                {" Prj_symm_shape":["_PIRANHA_SANDBOX_QUEUED_",{"Optional":[]},{"Absent":[]}]}
              ]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":15,
          "char_start":34,
          "char_end":37
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{
          "Symm":[
            {" Prj_symm_shape":["_PIRANHA_SANDBOX_QUEUED_",{"Optional":[]},{"Absent":[]}]}
          ]
        }
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{
          "Symm":[
            {" Prj_symm_shape":["_PIRANHA_SANDBOX_QUEUED_",{"Optional":[]},{"Absent":[]}]}
          ]
        }
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `async_bulkapi_factor` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `async_bulkapi_factor` is defined

 17 |   ?'execution_push_phase' => string,
 18 |   ?»'async_bulkapi_factor'« => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,

File "workplace_shape_mismatch.php", line 18, character 4 - line 18, character 25:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => »float«,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,

File "workplace_shape_mismatch.php", line 18, character 30 - line 18, character 34:

flows up into this hint as the optional shape field `'async_bulkapi_factor'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'async_bulkapi_factor'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":18,
              "char_start":30,
              "char_end":34
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["async_bulkapi_factor",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":18,
              "char_start":30,
              "char_end":34
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["async_bulkapi_factor",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":18,
          "char_start":30,
          "char_end":34
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{
          "Symm":[{" Prj_symm_shape":["async_bulkapi_factor",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{
          "Symm":[{" Prj_symm_shape":["async_bulkapi_factor",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `devserver` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `devserver` is defined

 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?»'devserver'« => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,

File "workplace_shape_mismatch.php", line 19, character 4 - line 19, character 14:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => »string«,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,

File "workplace_shape_mismatch.php", line 19, character 19 - line 19, character 24:

flows up into this hint as the optional shape field `'devserver'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'devserver'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":19,
              "char_start":19,
              "char_end":24
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["devserver",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":19,
              "char_start":19,
              "char_end":24
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["devserver",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":19,
          "char_start":19,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["devserver",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["devserver",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `earlyreturn` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `earlyreturn` is defined

 13 |   ?'retry_attempt' => int,
 14 |   ?»'earlyreturn'« => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,

File "workplace_shape_mismatch.php", line 14, character 4 - line 14, character 16:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => »int«,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,

File "workplace_shape_mismatch.php", line 14, character 21 - line 14, character 23:

flows up into this hint as the optional shape field `'earlyreturn'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'earlyreturn'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":14,
              "char_start":21,
              "char_end":23
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["earlyreturn",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":14,
              "char_start":21,
              "char_end":23
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["earlyreturn",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":14,
          "char_start":21,
          "char_end":23
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["earlyreturn",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["earlyreturn",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `execute_after` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `execute_after` is defined

 5 | type AsyncJobOptions = shape(
 6 |   ?'serialization_format' => SerializationFormat,
 7 |   ?»'execute_after'« => int,
 8 |   ?'execute_before' => int,
 9 |   ?'expire_after' => int,
10 |   ?'region' => string,
11 |   ?'scheduling_uid' => int,
12 |   ?'tag' => string,
13 |   ?'retry_attempt' => int,
14 |   ?'earlyreturn' => int,
15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
16 |   ?'resource_requirement' => int,
17 |   ?'execution_push_phase' => string,
18 |   ?'async_bulkapi_factor' => float,
19 |   ?'devserver' => string,
20 |   ?'fifo_ordering_key' => string,
21 |   ?'fifo_dedup_key' => string,
22 |   ?'send_schedule_cats' => bool,
23 | );
24 | 

File "workplace_shape_mismatch.php", line 7, character 4 - line 7, character 18:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 5 | type AsyncJobOptions = shape(
 6 |   ?'serialization_format' => SerializationFormat,
 7 |   ?'execute_after' => »int«,
 8 |   ?'execute_before' => int,
 9 |   ?'expire_after' => int,
10 |   ?'region' => string,
11 |   ?'scheduling_uid' => int,
12 |   ?'tag' => string,
13 |   ?'retry_attempt' => int,
14 |   ?'earlyreturn' => int,
15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
16 |   ?'resource_requirement' => int,
17 |   ?'execution_push_phase' => string,
18 |   ?'async_bulkapi_factor' => float,
19 |   ?'devserver' => string,
20 |   ?'fifo_ordering_key' => string,
21 |   ?'fifo_dedup_key' => string,
22 |   ?'send_schedule_cats' => bool,
23 | );
24 | 

File "workplace_shape_mismatch.php", line 7, character 23 - line 7, character 25:

flows up into this hint as the optional shape field `'execute_after'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'execute_after'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":7,
              "char_start":23,
              "char_end":25
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["execute_after",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":7,
              "char_start":23,
              "char_end":25
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["execute_after",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":7,
          "char_start":23,
          "char_end":25
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["execute_after",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["execute_after",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `execute_before` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `execute_before` is defined

 5 | type AsyncJobOptions = shape(
 6 |   ?'serialization_format' => SerializationFormat,
 7 |   ?'execute_after' => int,
 8 |   ?»'execute_before'« => int,
 9 |   ?'expire_after' => int,
10 |   ?'region' => string,
11 |   ?'scheduling_uid' => int,
12 |   ?'tag' => string,
13 |   ?'retry_attempt' => int,
14 |   ?'earlyreturn' => int,
15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
16 |   ?'resource_requirement' => int,
17 |   ?'execution_push_phase' => string,
18 |   ?'async_bulkapi_factor' => float,
19 |   ?'devserver' => string,
20 |   ?'fifo_ordering_key' => string,
21 |   ?'fifo_dedup_key' => string,
22 |   ?'send_schedule_cats' => bool,
23 | );
24 | 

File "workplace_shape_mismatch.php", line 8, character 4 - line 8, character 19:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 5 | type AsyncJobOptions = shape(
 6 |   ?'serialization_format' => SerializationFormat,
 7 |   ?'execute_after' => int,
 8 |   ?'execute_before' => »int«,
 9 |   ?'expire_after' => int,
10 |   ?'region' => string,
11 |   ?'scheduling_uid' => int,
12 |   ?'tag' => string,
13 |   ?'retry_attempt' => int,
14 |   ?'earlyreturn' => int,
15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
16 |   ?'resource_requirement' => int,
17 |   ?'execution_push_phase' => string,
18 |   ?'async_bulkapi_factor' => float,
19 |   ?'devserver' => string,
20 |   ?'fifo_ordering_key' => string,
21 |   ?'fifo_dedup_key' => string,
22 |   ?'send_schedule_cats' => bool,
23 | );
24 | 

File "workplace_shape_mismatch.php", line 8, character 24 - line 8, character 26:

flows up into this hint as the optional shape field `'execute_before'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'execute_before'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":8,
              "char_start":24,
              "char_end":26
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["execute_before",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":8,
              "char_start":24,
              "char_end":26
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["execute_before",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":8,
          "char_start":24,
          "char_end":26
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["execute_before",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["execute_before",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `execution_push_phase` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `execution_push_phase` is defined

 16 |   ?'resource_requirement' => int,
 17 |   ?»'execution_push_phase'« => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,

File "workplace_shape_mismatch.php", line 17, character 4 - line 17, character 25:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => »string«,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,

File "workplace_shape_mismatch.php", line 17, character 30 - line 17, character 35:

flows up into this hint as the optional shape field `'execution_push_phase'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'execution_push_phase'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":17,
              "char_start":30,
              "char_end":35
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["execution_push_phase",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":17,
              "char_start":30,
              "char_end":35
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["execution_push_phase",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":17,
          "char_start":30,
          "char_end":35
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{
          "Symm":[{" Prj_symm_shape":["execution_push_phase",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{
          "Symm":[{" Prj_symm_shape":["execution_push_phase",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `expire_after` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `expire_after` is defined

 8 |   ?'execute_before' => int,
 9 |   ?»'expire_after'« => int,
10 |   ?'region' => string,
11 |   ?'scheduling_uid' => int,

File "workplace_shape_mismatch.php", line 9, character 4 - line 9, character 17:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 8 |   ?'execute_before' => int,
 9 |   ?'expire_after' => »int«,
10 |   ?'region' => string,
11 |   ?'scheduling_uid' => int,

File "workplace_shape_mismatch.php", line 9, character 22 - line 9, character 24:

flows up into this hint as the optional shape field `'expire_after'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'expire_after'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":9,
              "char_start":22,
              "char_end":24
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["expire_after",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":9,
              "char_start":22,
              "char_end":24
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["expire_after",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":9,
          "char_start":22,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["expire_after",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["expire_after",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `fifo_dedup_key` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `fifo_dedup_key` is defined

 20 |   ?'fifo_ordering_key' => string,
 21 |   ?»'fifo_dedup_key'« => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );

File "workplace_shape_mismatch.php", line 21, character 4 - line 21, character 19:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => »string«,
 22 |   ?'send_schedule_cats' => bool,
 23 | );

File "workplace_shape_mismatch.php", line 21, character 24 - line 21, character 29:

flows up into this hint as the optional shape field `'fifo_dedup_key'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'fifo_dedup_key'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":21,
              "char_start":24,
              "char_end":29
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["fifo_dedup_key",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":21,
              "char_start":24,
              "char_end":29
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["fifo_dedup_key",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":21,
          "char_start":24,
          "char_end":29
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["fifo_dedup_key",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["fifo_dedup_key",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `fifo_ordering_key` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `fifo_ordering_key` is defined

 19 |   ?'devserver' => string,
 20 |   ?»'fifo_ordering_key'« => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,

File "workplace_shape_mismatch.php", line 20, character 4 - line 20, character 22:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => »string«,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,

File "workplace_shape_mismatch.php", line 20, character 27 - line 20, character 32:

flows up into this hint as the optional shape field `'fifo_ordering_key'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'fifo_ordering_key'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":20,
              "char_start":27,
              "char_end":32
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["fifo_ordering_key",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":20,
              "char_start":27,
              "char_end":32
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["fifo_ordering_key",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":20,
          "char_start":27,
          "char_end":32
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{
          "Symm":[{" Prj_symm_shape":["fifo_ordering_key",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{
          "Symm":[{" Prj_symm_shape":["fifo_ordering_key",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `region` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `region` is defined

 9 |   ?'expire_after' => int,
10 |   ?»'region'« => string,
11 |   ?'scheduling_uid' => int,
12 |   ?'tag' => string,

File "workplace_shape_mismatch.php", line 10, character 4 - line 10, character 11:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 9 |   ?'expire_after' => int,
10 |   ?'region' => »string«,
11 |   ?'scheduling_uid' => int,
12 |   ?'tag' => string,

File "workplace_shape_mismatch.php", line 10, character 16 - line 10, character 21:

flows up into this hint as the optional shape field `'region'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'region'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":10,
              "char_start":16,
              "char_end":21
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["region",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":10,
              "char_start":16,
              "char_end":21
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["region",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":10,
          "char_start":16,
          "char_end":21
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["region",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["region",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `resource_requirement` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `resource_requirement` is defined

 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?»'resource_requirement'« => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,

File "workplace_shape_mismatch.php", line 16, character 4 - line 16, character 25:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => »int«,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,

File "workplace_shape_mismatch.php", line 16, character 30 - line 16, character 32:

flows up into this hint as the optional shape field `'resource_requirement'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'resource_requirement'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":16,
              "char_start":30,
              "char_end":32
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["resource_requirement",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":16,
              "char_start":30,
              "char_end":32
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["resource_requirement",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":16,
          "char_start":30,
          "char_end":32
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{
          "Symm":[{" Prj_symm_shape":["resource_requirement",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{
          "Symm":[{" Prj_symm_shape":["resource_requirement",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `retry_attempt` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `retry_attempt` is defined

 12 |   ?'tag' => string,
 13 |   ?»'retry_attempt'« => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,

File "workplace_shape_mismatch.php", line 13, character 4 - line 13, character 18:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => »int«,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,

File "workplace_shape_mismatch.php", line 13, character 23 - line 13, character 25:

flows up into this hint as the optional shape field `'retry_attempt'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'retry_attempt'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":13,
              "char_start":23,
              "char_end":25
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["retry_attempt",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":13,
              "char_start":23,
              "char_end":25
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["retry_attempt",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":13,
          "char_start":23,
          "char_end":25
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["retry_attempt",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["retry_attempt",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `scheduling_uid` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `scheduling_uid` is defined

 10 |   ?'region' => string,
 11 |   ?»'scheduling_uid'« => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,

File "workplace_shape_mismatch.php", line 11, character 4 - line 11, character 19:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => »int«,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,

File "workplace_shape_mismatch.php", line 11, character 24 - line 11, character 26:

flows up into this hint as the optional shape field `'scheduling_uid'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'scheduling_uid'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":11,
              "char_start":24,
              "char_end":26
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["scheduling_uid",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":11,
              "char_start":24,
              "char_end":26
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["scheduling_uid",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":11,
          "char_start":24,
          "char_end":26
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["scheduling_uid",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["scheduling_uid",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `send_schedule_cats` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `send_schedule_cats` is defined

 21 |   ?'fifo_dedup_key' => string,
 22 |   ?»'send_schedule_cats'« => bool,
 23 | );

File "workplace_shape_mismatch.php", line 22, character 4 - line 22, character 23:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => »bool«,
 23 | );

File "workplace_shape_mismatch.php", line 22, character 28 - line 22, character 31:

flows up into this hint as the optional shape field `'send_schedule_cats'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'send_schedule_cats'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":22,
              "char_start":28,
              "char_end":31
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["send_schedule_cats",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":22,
              "char_start":28,
              "char_end":31
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["send_schedule_cats",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":22,
          "char_start":28,
          "char_end":31
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{
          "Symm":[{" Prj_symm_shape":["send_schedule_cats",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{
          "Symm":[{" Prj_symm_shape":["send_schedule_cats",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `serialization_format` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `serialization_format` is defined

 5 | type AsyncJobOptions = shape(
 6 |   ?»'serialization_format'« => SerializationFormat,
 7 |   ?'execute_after' => int,
 8 |   ?'execute_before' => int,
 9 |   ?'expire_after' => int,
10 |   ?'region' => string,
11 |   ?'scheduling_uid' => int,
12 |   ?'tag' => string,
13 |   ?'retry_attempt' => int,
14 |   ?'earlyreturn' => int,
15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
16 |   ?'resource_requirement' => int,
17 |   ?'execution_push_phase' => string,
18 |   ?'async_bulkapi_factor' => float,
19 |   ?'devserver' => string,
20 |   ?'fifo_ordering_key' => string,
21 |   ?'fifo_dedup_key' => string,
22 |   ?'send_schedule_cats' => bool,
23 | );
24 | 

File "workplace_shape_mismatch.php", line 6, character 4 - line 6, character 25:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 5 | type AsyncJobOptions = shape(
 6 |   ?'serialization_format' => »SerializationFormat«,
 7 |   ?'execute_after' => int,
 8 |   ?'execute_before' => int,
 9 |   ?'expire_after' => int,
10 |   ?'region' => string,
11 |   ?'scheduling_uid' => int,
12 |   ?'tag' => string,
13 |   ?'retry_attempt' => int,
14 |   ?'earlyreturn' => int,
15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
16 |   ?'resource_requirement' => int,
17 |   ?'execution_push_phase' => string,
18 |   ?'async_bulkapi_factor' => float,
19 |   ?'devserver' => string,
20 |   ?'fifo_ordering_key' => string,
21 |   ?'fifo_dedup_key' => string,
22 |   ?'send_schedule_cats' => bool,
23 | );
24 | 

File "workplace_shape_mismatch.php", line 6, character 30 - line 6, character 48:

flows up into this hint as the optional shape field `'serialization_format'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'serialization_format'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":6,
              "char_start":30,
              "char_end":48
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["serialization_format",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":6,
              "char_start":30,
              "char_end":48
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {
              "Symm":[{" Prj_symm_shape":["serialization_format",{"Optional":[]},{"Absent":[]}]}]
            },
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":6,
          "char_start":30,
          "char_end":48
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{
          "Symm":[{" Prj_symm_shape":["serialization_format",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{
          "Symm":[{" Prj_symm_shape":["serialization_format",{"Optional":[]},{"Absent":[]}]}]
        }
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4057] Invalid argument

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

The field `tag` is missing

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

The field `tag` is defined

 11 |   ?'scheduling_uid' => int,
 12 |   ?»'tag'« => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,

File "workplace_shape_mismatch.php", line 12, character 4 - line 12, character 8:

This error has 10 steps, a maximum depth of 2 and contains 1 reversal.

Here's why: this hint

 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => »string«,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,

File "workplace_shape_mismatch.php", line 12, character 13 - line 12, character 18:

flows up into this hint as the optional shape field `'tag'`

  5 | type AsyncJobOptions = »shape(
  6 |   ?'serialization_format' => SerializationFormat,
  7 |   ?'execute_after' => int,
  8 |   ?'execute_before' => int,
  9 |   ?'expire_after' => int,
 10 |   ?'region' => string,
 11 |   ?'scheduling_uid' => int,
 12 |   ?'tag' => string,
 13 |   ?'retry_attempt' => int,
 14 |   ?'earlyreturn' => int,
 15 |   ?'_PIRANHA_SANDBOX_QUEUED_' => bool,
 16 |   ?'resource_requirement' => int,
 17 |   ?'execution_push_phase' => string,
 18 |   ?'async_bulkapi_factor' => float,
 19 |   ?'devserver' => string,
 20 |   ?'fifo_ordering_key' => string,
 21 |   ?'fifo_dedup_key' => string,
 22 |   ?'send_schedule_cats' => bool,
 23 | );«
 24 | 

File "workplace_shape_mismatch.php", line 5, character 24 - line 23, character 1:

which itself flows into this hint because it is the definition

 94 |   public static final async function genScheduleTestable(
 95 |     »AsyncJobOptions« $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 5 - line 95, character 19:

which itself flows into this expression because it is a parameter hint

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions »$options« = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob($options);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 95, character 21 - line 95, character 28:

which itself flows into this expression because the local variable has this type

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await self::genAsyncJob(»$options«);
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 36 - line 97, character 43:

which itself flows up into this expression as the 1st function parameter

 94 |   public static final async function genScheduleTestable(
 95 |     AsyncJobOptions $options = shape(),
 96 |   ): Awaitable<string> {
 97 |     return await »self::genAsyncJob($options)«;
 98 |   }
 99 | }

File "workplace_shape_mismatch.php", line 97, character 18 - line 97, character 44:

which itself flows from this function or method  because they are required to be subtypes

 87 | class Stuff {
 88 |   public static async function »genAsyncJob«(
 89 |     ?AsyncTierJobOptions $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 88, character 32 - line 88, character 42:

which itself flows down into this hint as the 1st function parameter

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     »?AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 5 - line 89, character 24:

which itself flows down into this hint as the non-null part of a nullable type

 74 | type AsyncTierJobOptions = »shape(
 75 |   ?AsyncTierJobOption::EXECUTION_DELAY_SECONDS => int,
 76 |   ?AsyncTierJobOption::TTL_SECONDS => int,
 77 |   ?AsyncTierJobOption::REGION_PREFERENCE => string,
 78 |   ?AsyncTierJobOption::SANDBOX_HOST => string,
 79 |   ?AsyncTierJobOption::EARLY_RETURN => int,
 80 |   ?AsyncTierJobOption::SEND_SCHEDULE_CATS => bool,
 81 |   ?AsyncTierJobOption::IPF_PRODUCT_OVERRIDE => IPFOverrideParams,
 82 |   ?AsyncTierJobOption::RETRY_ATTEMPT_DEPRECATED => int,
 83 |   ?AsyncTierJobOption::FIFO_ORDERING_KEY => string,
 84 | );«
 85 | 

File "workplace_shape_mismatch.php", line 74, character 28 - line 84, character 1:

which itself flows into this hint because it is the definition

 87 | class Stuff {
 88 |   public static async function genAsyncJob(
 89 |     ?»AsyncTierJobOptions« $options = null,
 90 |   ): Awaitable<string> {
 91 |     return "";

File "workplace_shape_mismatch.php", line 89, character 6 - line 89, character 24:

which itself flows down into no type since the shape field `'tag'` is not defined


File "", line 0, character 0 - line 0, character -1:

Raw:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":12,
              "char_start":13,
              "char_end":18
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["tag",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rrev":[
                                {
                                  "Rsupport_dynamic_type":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":88,
                                      "char_start":32,
                                      "char_end":42
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Normalised:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[
            {
              "filename":"workplace_shape_mismatch.php",
              "line":12,
              "char_start":13,
              "char_end":18
            }
          ]
        },
        "Flow_prj",
        {
          "Rprj":[
            {"Symm":[{" Prj_symm_shape":["tag",{"Optional":[]},{"Absent":[]}]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":5,
                                      "char_start":24,
                                      "char_end":555
                                    }
                                  ]
                                },
                                "Flow_type_def",
                                {
                                  "Rhint":[
                                    {
                                      "filename":"workplace_shape_mismatch.php",
                                      "line":95,
                                      "char_start":5,
                                      "char_end":19
                                    }
                                  ]
                                }
                              ]
                            },
                            "Flow_param_hint",
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":95,
                                  "char_start":21,
                                  "char_end":28
                                }
                              ]
                            }
                          ]
                        },
                        "Flow_local",
                        {
                          "Rwitness":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":97,
                              "char_start":36,
                              "char_end":43
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rprj":[
                        {"Symm":[{"Prj_symm_fn_param":[0,0]}]},
                        {
                          "Rflow":[
                            {
                              "Rwitness":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":97,
                                  "char_start":18,
                                  "char_end":44
                                }
                              ]
                            },
                            "Flow_subtype",
                            {
                              "Rsupport_dynamic_type":[
                                {
                                  "filename":"workplace_shape_mismatch.php",
                                  "line":88,
                                  "char_start":32,
                                  "char_end":42
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                "Flow_subtype",
                {
                  "Rflow":[
                    {
                      "Rprj":[
                        {"Asymm":["Super","Prj_asymm_nullable"]},
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":5,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    },
                    "Flow_prj",
                    {
                      "Rflow":[
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":74,
                              "char_start":28,
                              "char_end":501
                            }
                          ]
                        },
                        "Flow_type_def",
                        {
                          "Rhint":[
                            {
                              "filename":"workplace_shape_mismatch.php",
                              "line":89,
                              "char_start":6,
                              "char_end":24
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Flow_subtype_toplevel",
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

Path:
{
  "stats":{"max_depth":2,"length":10,"reversals":1},
  "path_elems":[
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":12,
          "char_start":13,
          "char_end":18
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "in_to":{"Symm":[{" Prj_symm_shape":["tag",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":5,
          "char_start":24,
          "char_end":555
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":5,
          "char_end":19
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_param_hint"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":95,
          "char_start":21,
          "char_end":28
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_local"}},
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":36,
          "char_end":43
        }
      ]
    },
    {
      "Edge":{"dir":"Fwd","kind":"Flow_prj","in_to":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}}
    },
    {
      "Rwitness":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":97,
          "char_start":18,
          "char_end":44
        }
      ]
    },
    {"Edge":{"dir":"Bwd","kind":"Flow_subtype"}},
    {
      "Rsupport_dynamic_type":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":88,
          "char_start":32,
          "char_end":42
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype",
        "out_of":{"Symm":[{"Prj_symm_fn_param":[0,0]}]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":5,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_prj",
        "out_of":{"Asymm":["Super","Prj_asymm_nullable"]}
      }
    },
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":74,
          "char_start":28,
          "char_end":501
        }
      ]
    },
    {"Edge":{"dir":"Fwd","kind":"Flow_type_def"}},
    {
      "Rhint":[
        {
          "filename":"workplace_shape_mismatch.php",
          "line":89,
          "char_start":6,
          "char_end":24
        }
      ]
    },
    {
      "Edge":{
        "dir":"Fwd",
        "kind":"Flow_subtype_toplevel",
        "out_of":{"Symm":[{" Prj_symm_shape":["tag",{"Optional":[]},{"Absent":[]}]}]}
      }
    },
    {"Rmissing_field":[]}
  ]
}


File "", line 0, character 0 - line 0, character -1:

17 errors found.
