error: Typing[4110] Invalid argument

Expected `Sub`

 13 | function takes_my_a(MyA<Sub, Super, Super> $_): void {}
 14 | 
 15 | function subtype_bad_contravariant(MyB<»Sub«, Super> $x): void {
 16 |   takes_my_a($x);
 17 | }

File "class_subtyping.php", line 15, character 40 - line 15, character 42:

But got `Super`

 13 | function takes_my_a(MyA<Sub, »Super«, Super> $_): void {}
 14 | 
 15 | function subtype_bad_contravariant(MyB<Sub, Super> $x): void {
 16 |   takes_my_a($x);
 17 | }

File "class_subtyping.php", line 13, character 30 - line 13, character 34:

Flow:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[{"filename":"class_subtyping.php","line":13,"char_start":30,"char_end":34}]
        },
        {
          "Rprj_symm":[
            {"Prj_symm_class":["\\MyA",1,{"Contravariant":[]}]},
            {
              "Rflow":[
                {
                  "Rhint":[{"filename":"class_subtyping.php","line":13,"char_start":21,"char_end":42}]
                },
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rprj_symm":[
                            {"Prj_symm_fn_arg":[0,0,{"Contravariant":[]}]},
                            {
                              "Rflow":[
                                {
                                  "Rwitness_from_decl":[{"filename":"class_subtyping.php","line":13,"char_start":10,"char_end":19}]
                                },
                                {
                                  "Rwitness":[{"filename":"class_subtyping.php","line":16,"char_start":3,"char_end":12}]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "Rflow":[
                            {
                              "Rwitness":[{"filename":"class_subtyping.php","line":16,"char_start":14,"char_end":15}]
                            },
                            {
                              "Rflow":[
                                {
                                  "Rwitness":[{"filename":"class_subtyping.php","line":15,"char_start":52,"char_end":53}]
                                },
                                {
                                  "Rhint":[{"filename":"class_subtyping.php","line":15,"char_start":36,"char_end":50}]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "Rhint":[{"filename":"class_subtyping.php","line":5,"char_start":28,"char_end":43}]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "Rhint":[{"filename":"class_subtyping.php","line":15,"char_start":40,"char_end":42}]
    }
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4110] Invalid argument

Expected `Super`

 13 | function takes_my_a(MyA<Sub, Super, »Super«> $_): void {}
 14 | 
 15 | function subtype_bad_contravariant(MyB<Sub, Super> $x): void {

File "class_subtyping.php", line 13, character 37 - line 13, character 41:

But got `Sub`

 19 | function subtype_bad_invariant(MyB<Super, »Sub«> $x): void {
 20 |   takes_my_a($x);
 21 | }

File "class_subtyping.php", line 19, character 43 - line 19, character 45:

Flow:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[{"filename":"class_subtyping.php","line":19,"char_start":43,"char_end":45}]
        },
        {
          "Rprj_symm":[
            {"Prj_symm_class":["\\MyA",2,{"Covariant":[]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rhint":[{"filename":"class_subtyping.php","line":5,"char_start":28,"char_end":43}]
                    },
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[{"filename":"class_subtyping.php","line":19,"char_start":32,"char_end":46}]
                                },
                                {
                                  "Rwitness":[{"filename":"class_subtyping.php","line":19,"char_start":48,"char_end":49}]
                                }
                              ]
                            },
                            {
                              "Rwitness":[{"filename":"class_subtyping.php","line":20,"char_start":14,"char_end":15}]
                            }
                          ]
                        },
                        {
                          "Rprj_symm":[
                            {"Prj_symm_fn_arg":[0,0,{"Contravariant":[]}]},
                            {
                              "Rflow":[
                                {
                                  "Rwitness":[{"filename":"class_subtyping.php","line":20,"char_start":3,"char_end":12}]
                                },
                                {
                                  "Rwitness_from_decl":[{"filename":"class_subtyping.php","line":13,"char_start":10,"char_end":19}]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "Rhint":[{"filename":"class_subtyping.php","line":13,"char_start":21,"char_end":42}]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "Rhint":[{"filename":"class_subtyping.php","line":13,"char_start":37,"char_end":41}]
    }
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4110] Invalid argument

Expected `Sub`

 19 | function subtype_bad_invariant(MyB<Super, »Sub«> $x): void {
 20 |   takes_my_a($x);
 21 | }

File "class_subtyping.php", line 19, character 43 - line 19, character 45:

But got `Super`

 13 | function takes_my_a(MyA<Sub, Super, »Super«> $_): void {}
 14 | 
 15 | function subtype_bad_contravariant(MyB<Sub, Super> $x): void {

File "class_subtyping.php", line 13, character 37 - line 13, character 41:

Flow:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[{"filename":"class_subtyping.php","line":13,"char_start":37,"char_end":41}]
        },
        {
          "Rprj_symm":[
            {"Prj_symm_class":["\\MyA",2,{"Contravariant":[]}]},
            {
              "Rflow":[
                {
                  "Rhint":[{"filename":"class_subtyping.php","line":13,"char_start":21,"char_end":42}]
                },
                {
                  "Rflow":[
                    {
                      "Rflow":[
                        {
                          "Rprj_symm":[
                            {"Prj_symm_fn_arg":[0,0,{"Contravariant":[]}]},
                            {
                              "Rflow":[
                                {
                                  "Rwitness_from_decl":[{"filename":"class_subtyping.php","line":13,"char_start":10,"char_end":19}]
                                },
                                {
                                  "Rwitness":[{"filename":"class_subtyping.php","line":20,"char_start":3,"char_end":12}]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "Rflow":[
                            {
                              "Rwitness":[{"filename":"class_subtyping.php","line":20,"char_start":14,"char_end":15}]
                            },
                            {
                              "Rflow":[
                                {
                                  "Rwitness":[{"filename":"class_subtyping.php","line":19,"char_start":48,"char_end":49}]
                                },
                                {
                                  "Rhint":[{"filename":"class_subtyping.php","line":19,"char_start":32,"char_end":46}]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "Rhint":[{"filename":"class_subtyping.php","line":5,"char_start":28,"char_end":43}]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "Rhint":[{"filename":"class_subtyping.php","line":19,"char_start":43,"char_end":45}]
    }
  ]
}


File "", line 0, character 0 - line 0, character -1:

error: Typing[4110] Invalid argument

Expected `Sub`

 13 | function takes_my_a(MyA<»Sub«, Super, Super> $_): void {}
 14 | 
 15 | function subtype_bad_contravariant(MyB<Sub, Super> $x): void {

File "class_subtyping.php", line 13, character 25 - line 13, character 27:

But got `Super`

 23 | function subtype_bad_covariant(MyC<»Super«, Super> $x): void {
 24 |   takes_my_a($x);
 25 | }

File "class_subtyping.php", line 23, character 36 - line 23, character 40:

Flow:
{
  "Rflow":[
    {
      "Rflow":[
        {
          "Rhint":[{"filename":"class_subtyping.php","line":23,"char_start":36,"char_end":40}]
        },
        {
          "Rprj_symm":[
            {"Prj_symm_class":["\\MyA",0,{"Covariant":[]}]},
            {
              "Rflow":[
                {
                  "Rflow":[
                    {
                      "Rhint":[{"filename":"class_subtyping.php","line":7,"char_start":28,"char_end":45}]
                    },
                    {
                      "Rflow":[
                        {
                          "Rflow":[
                            {
                              "Rflow":[
                                {
                                  "Rhint":[{"filename":"class_subtyping.php","line":23,"char_start":32,"char_end":48}]
                                },
                                {
                                  "Rwitness":[{"filename":"class_subtyping.php","line":23,"char_start":50,"char_end":51}]
                                }
                              ]
                            },
                            {
                              "Rwitness":[{"filename":"class_subtyping.php","line":24,"char_start":14,"char_end":15}]
                            }
                          ]
                        },
                        {
                          "Rprj_symm":[
                            {"Prj_symm_fn_arg":[0,0,{"Contravariant":[]}]},
                            {
                              "Rflow":[
                                {
                                  "Rwitness":[{"filename":"class_subtyping.php","line":24,"char_start":3,"char_end":12}]
                                },
                                {
                                  "Rwitness_from_decl":[{"filename":"class_subtyping.php","line":13,"char_start":10,"char_end":19}]
                                }
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "Rhint":[{"filename":"class_subtyping.php","line":13,"char_start":21,"char_end":42}]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "Rhint":[{"filename":"class_subtyping.php","line":13,"char_start":25,"char_end":27}]
    }
  ]
}


File "", line 0, character 0 - line 0, character -1:

4 errors found.
