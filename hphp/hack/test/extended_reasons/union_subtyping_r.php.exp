error: Typing[4110] Invalid return type

Expected `B`

 5 | <<__NoAutoLikes>>
 6 | function union_r(C $c): (A|»B«) {
 7 |   return $c;
 8 | }

File "union_subtyping_r.php", line 6, character 28 - line 6, character 28:

But got `C`

 5 | <<__NoAutoLikes>>
 6 | function union_r(»C« $c): (A|B) {
 7 |   return $c;
 8 | }

File "union_subtyping_r.php", line 6, character 18 - line 6, character 18:

Here's why: this hint

 5 | <<__NoAutoLikes>>
 6 | function union_r(»C« $c): (A|B) {
 7 |   return $c;
 8 | }

File "union_subtyping_r.php", line 6, character 18 - line 6, character 18:

flows *into* this expression

 5 | <<__NoAutoLikes>>
 6 | function union_r(C »$c«): (A|B) {
 7 |   return $c;
 8 | }

File "union_subtyping_r.php", line 6, character 20 - line 6, character 21:

which itself flows *into* this expression

 5 | <<__NoAutoLikes>>
 6 | function union_r(C $c): (A|B) {
 7 |   return »$c«;
 8 | }

File "union_subtyping_r.php", line 7, character 10 - line 7, character 11:

which itself flows *into* this expression

 5 | <<__NoAutoLikes>>
 6 | function union_r(C $c): (A|B) {
 7 |   »return $c;«
 8 | }

File "union_subtyping_r.php", line 7, character 3 - line 7, character 12:

which itself flows *into* this hint

 5 | <<__NoAutoLikes>>
 6 | function union_r(C $c): »(A|B)« {
 7 |   return $c;
 8 | }

File "union_subtyping_r.php", line 6, character 25 - line 6, character 29:

which itself flows *into* this hint, via the union type

 5 | <<__NoAutoLikes>>
 6 | function union_r(C $c): (A|»B«) {
 7 |   return $c;
 8 | }

File "union_subtyping_r.php", line 6, character 28 - line 6, character 28:

1 error found.
